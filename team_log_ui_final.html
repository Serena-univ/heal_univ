html_get_version = """
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ê¸°ë¡ ì‹œìŠ¤í…œ</title>
  <style>
    body { font-family: Arial; padding: 20px; }
    .section { margin-bottom: 20px; }
    button, select, input[type=number], input[type=text] { margin: 5px; padding: 5px 10px; }
    #sub-options, #reason-options, #age-input { display: none; }
    #customMiddleInput { display: none; }
  </style>
</head>
<body>
  <h2>ğŸ”˜ íŒ€ ê¸°ë¡ ì‹œìŠ¤í…œ</h2>

  <div class="section">
    <strong>1. íŒ€ ì„ íƒ:</strong><br>
    <button onclick="selectTeam(1)">1íŒ€</button>
    <button onclick="selectTeam(2)">2íŒ€</button>
    <button onclick="selectTeam(3)">3íŒ€</button>
    <button onclick="selectTeam(4)">4íŒ€</button>
  </div>

  <div class="section">
    <strong>2. ì¥ì†Œ ì„ íƒ:</strong><br>
    <select id="mainCategory" onchange="updateLocation()">
      <option value="">ëŒ€ë¶„ë¥˜</option>
      <option value="ë™ëŒ€ë¬¸êµ¬">ë™ëŒ€ë¬¸êµ¬</option>
      <option value="ê´‘ì§„êµ¬">ê´‘ì§„êµ¬</option>
    </select>
    <select id="middleCategory">
      <option value="">ì¤‘ë¶„ë¥˜</option>
    </select>
    <label><input type="checkbox" id="customMiddleCheck" onchange="toggleMiddleInput()"> ì§ì ‘ ì…ë ¥</label>
    <input type="text" id="customMiddleInput" placeholder="ì¤‘ë¶„ë¥˜ ì§ì ‘ ì…ë ¥">
    <input type="text" id="subCategory" placeholder="ì†Œë¶„ë¥˜ (ìƒì„¸ìœ„ì¹˜ ì…ë ¥)">
  </div>

  <div class="section">
    <strong>3. ê²°ê³¼ ì„ íƒ:</strong><br>
    <button onclick="selectResult('O')">O</button>
    <button onclick="submitData('X')">X</button>
  </div>

  <div id="sub-options">
    <strong>O ì„ íƒ â†’ í•˜ìœ„ ì„ íƒ:</strong><br>
    <button onclick="showAgeInput()">ì°¾ê¸°</button>
    <button onclick="showReasonOptions()">ë¹„í•©</button>
  </div>

  <div id="age-input">
    <label>ë‚˜ì´: <input type="number" id="age" min="0" max="120"></label>
    <button onclick="submitData('O', 'ì°¾ê¸°')">ì „ì†¡</button>
  </div>

  <div id="reason-options">
    <strong>ë¹„í•© ì‚¬ìœ  ì„ íƒ:</strong><br>
    <button onclick="submitData('O', 'ë¹„í•©', 'ê±°ë¦¬')">ê±°ë¦¬</button>
    <button onclick="submitData('O', 'ë¹„í•©', 'í™˜ê²½')">í™˜ê²½</button>
    <button onclick="submitData('O', 'ë¹„í•©', 'ì¸ì„±')">ì¸ì„±</button>
  </div>

  <script>
    let selectedTeam = "";

    function selectTeam(team) {
      selectedTeam = team;
    }

    function updateLocation() {
      const middle = document.getElementById("middleCategory");
      const main = document.getElementById("mainCategory").value;
      middle.innerHTML = "<option value=''>ì¤‘ë¶„ë¥˜</option>";
      if (main === "ì„œìš¸") {
        middle.innerHTML += "<option value='ë™ëŒ€ë¬¸êµ¬'>ë™ëŒ€ë¬¸êµ¬</option><option value='ì¤‘ë‘êµ¬'>ì¤‘ë‘êµ¬</option>";
      } else if (main === "ë¶€ì‚°") {
        middle.innerHTML += "<option value='í•´ìš´ëŒ€êµ¬'>í•´ìš´ëŒ€êµ¬</option><option value='ìˆ˜ì˜êµ¬'>ìˆ˜ì˜êµ¬</option>";
      }
    }

    function toggleMiddleInput() {
      const check = document.getElementById("customMiddleCheck").checked;
      document.getElementById("middleCategory").style.display = check ? 'none' : 'inline-block';
      document.getElementById("customMiddleInput").style.display = check ? 'inline-block' : 'none';
    }

    function selectResult(result) {
      if (result === 'O') {
        document.getElementById("sub-options").style.display = 'block';
      } else {
        submitData('X');
      }
    }

    function showAgeInput() {
      document.getElementById("age-input").style.display = 'block';
      document.getElementById("reason-options").style.display = 'none';
    }

    function showReasonOptions() {
      document.getElementById("reason-options").style.display = 'block';
      document.getElementById("age-input").style.display = 'none';
    }

    function submitData(result, subResult = "", reason = "") {
      const main = document.getElementById("mainCategory").value;
      const middleSelect = document.getElementById("middleCategory");
      const customMiddle = document.getElementById("customMiddleInput").value;
      const useCustomMiddle = document.getElementById("customMiddleCheck").checked;
      const middle = useCustomMiddle ? customMiddle : middleSelect.value;
      const sub = document.getElementById("subCategory").value;
      const age = document.getElementById("age").value;

      const data = {
        team: selectedTeam,
        location: {
          main: main,
          middle: middle,
          sub: sub
        },
        result: result,
        sub_result: subResult,
        age: subResult === "ì°¾ê¸°" ? age : "",
        reason: subResult === "ë¹„í•©" ? reason : ""
      };

      const params = new URLSearchParams({
        team: data.team,
        main: data.location.main,
        middle: data.location.middle,
        sub: data.location.sub,
        result: data.result,
        sub_result: data.sub_result,
        age: data.age,
        reason: data.reason
      });

      fetch("https://script.google.com/macros/s/AKfycbxkhDUi1lxRkGHFxA7JVCWKlhUvIWbAD8xhxpEbN1ZCFN5b7PIIQIFZHbjRMo2OCMlj/exec?" + params.toString())
        .then(res => res.text())
        .then(txt => alert("âœ… ì „ì†¡ ì™„ë£Œ: " + txt))
        .catch(err => alert("âŒ ì „ì†¡ ì‹¤íŒ¨: " + err));
    }
  </script>
</body>
</html>
"""

from pathlib import Path
path = Path("/mnt/data/team_log_ui_get_version.html")
path.write_text(html_get_version, encoding="utf-8")
path.name
